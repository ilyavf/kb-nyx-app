@import 'bootstrap-sass/vendor/assets/stylesheets/bootstrap/mixins';
@import 'bootstrap-sass/vendor/assets/stylesheets/bootstrap/variables';

@import 'colors';

.header-title {
  color: $primaryColor;
  text-align: center;
  font-size: 1.8rem;
  font-family: Arial;
  margin-bottom: 30px;
}

$border-color:  #aaa;
$border-color-dark:  #101010;


.kb-photo-gallery {

  .gallery-item {
    .item-wrapper {

      @include border-top-radius(5px);
      @include border-bottom-radius(5px);

      position: relative;
      border: 1px #d7dce1 solid;
      overflow: hidden;
      margin-right: 0;
      margin-left: 0;
      margin-bottom: 20px;
      background-color: white;
      transition: all 0.2s ease-in-out;

      @include box-shadow(1px 2px 7px rgba(0, 0, 0, 0.125));

      &:hover {
        @include box-shadow(1px 2px 7px 3px rgba(0, 0, 0, 0.125));
      }

      .item-cover {
        height: 152px;
        overflow: hidden;
        margin-bottom: 2px;
        cursor: pointer;

        img {
          max-width: 200%;
          min-width: 100%;
        }
      }
      .caption {
        display: block;
        margin: 6px 45px 3px 10px;
        color: $primaryColor;
        text-overflow: ellipsis;
        white-space: nowrap;
        overflow: hidden;
        height: 26px;
      }
      .item-date {
        color: #919baa;
        font-style: italic;
        margin: 0 10px 6px 10px;
        font-size: 1.1rem;
        font-family: Arial;
      }
    }

    .nx-selected-icon {
      display: none;
    }
    &.selected {
      .nx-selected-icon {
        display: block;
        width: 100%;
        border: none;
        position: absolute;
        top: 0;
        left: 0;
        bottom: 0;
        right: 0;
        text-align: center;
        background-color: rgba(0,0,0,0.3);
        cursor: pointer;
        .glyphicon {
          margin-top: 0px;
          color: white;
          font-size: 3.0rem;
        }
      }
    }

    .nx-shared-icon {
      display: block;
      width: 100%;
      border: none;
      position: absolute;
      top: 0;
      left: 0;
      bottom: 0;
      right: 0;
      text-align: center;
      background-color: rgba(0,0,0,0.3);
      cursor: auto;
      .glyphicon {
        margin-top: 0px;
        color: white;
        font-size: 3.0rem;
      }
    }


  }

  nx-cluster {

    .gallery-cluster-item {
    }
    
    .item-wrapper {


      .item-content {
        border: 1px solid #ddd;
        border-top: none;
        padding: 10px;
        overflow: hidden;
      }

      .total {
        float: right;
        margin-top: 10px;
        margin-bottom: 10px;
        width: 42px;
        height: 30px;
        line-height: 30px;
        text-align: center;
        color: white;
        background-color: $primaryColor;
        @include border-left-radius(15px);
      }
      .total-label {
        color: $primaryColor;
        margin-top: 10px;
        margin-bottom: 10px;
        margin-left: 10px;
        height: 30px;
        line-height: 30px;
      }
      .item-date {
        margin-right: 45px;
      }
    }
    .item-thumbs {
      margin: 0;
    }
  }

  nx-trade {
    .nx-trade-item {
      display: block;
      border: 1px solid $border-color;
      border-top: 3px $border-color-dark solid;
      margin-bottom: 30px;

      .trade-title {
        text-align: center;
        border-bottom: 1px $border-color solid;
        padding: 5px;
        background-color: #eee;
      }

      .gallery-cluster-item {
        margin-bottom: -20px;

        .item-wrapper {
          border: none;
          @include border-top-radius(0px);
          @include border-bottom-radius(0px);
        }

      }
    }
  }

  nx-tradee {
    .nx-tradee-item {
      margin-bottom: -1px;
      @media (min-width: $screen-sm-min) {
        margin: 15px 15px 0 -15px;
      }
      .title {
        font-weight: bold;
        font-size: 1.1em;
        margin-top: 10px;
      }
      .btn {
        padding-top: 2px;
        padding-bottom: 2px;
      }
      .content {
        border: 1px solid $border-color;
        padding-left: 10px;
        padding-right: 10px;
        @media (min-width: $screen-sm-min) {
          padding: 0px 50px 0px 0px;
          margin: 0px;
        }

        @media (max-width: $screen-md-min) {
          padding-right: 0;
          .nowrap {
            white-space: normal;
          }
        }

        nx-thumbs-preview {
          .item-thumbs {
            margin-top: 24px;
            @media (max-width: $screen-lg-min) {
              margin-top: 30px;
            }
          }
          .img-wrapper {
            height: 60px;
            margin: 0 -12px;
            @media (max-width: $screen-lg-min) {
              height: 45px;
            }
          }
          .total {
            position: absolute;
            right: -51px;
            top: 50%;
          }
        }
      }
    }
  }

  nx-friend {
    .gallery-item {

      &.invited .item-wrapper {
        background-color: #edf6ff;
      }

      .item-wrapper {
        background-color: #f9fafc;

        &:hover {
          background-color: white;
        }
        .item-cover {
          height: 120px;
          width: 120px;
          margin: 10px auto;
          img {
            max-width: none;
            min-width: initial;
            height: 100%;
          }
        }
      }
      
      .name {
        text-align: center;
        font-size: 1.5rem;
        color: $primaryColor;
        font-weight: bold;
      }

      .is-kb-user {
        line-height: 28px;
        .kb-user, .non-kb-user {
          height: 28px;
          float: left;
          margin-right: 5px;
        }
      }
      .kb-user, .non-kb-user, .remind-icon {
        display: inline-block;
        width: 20px;
        height: 20px;
        background: no-repeat url(../images/sprite_icons.png);
      }
      .non-kb-user {
        background-position: -19px;
      }

      .remind-icon {
        position: absolute;
        top: 8px;
        left: 8px;
        background-position: -39px;
        cursor: pointer;
      }

      .user-info {
        padding: 5px 8px;
        color: #8d9295;
        font-size: 1.3rem;
        white-space: nowrap;
      }

      .tag {
        margin-bottom: 10px;
        .tag-label {
          font-size: 85%;
          color: white;
          background-color: $fbConnectColor;
          padding: 2px 6px;
          @include border-left-radius(3px);
          @include border-right-radius(3px);
        }
        .glyphicon {
          margin-left: -2px;
          top: -1px;
          font-size: 0.8rem;
          color: $fbConnectColor;
        }
      }

      nx-thumblist {
        display: block;
        padding: 0 14px;
      }

      .invite-icon {
        position: absolute;
        right: 0px;
        top: 180px;
        display: block;
        padding: 5px 10px;
        @include border-left-radius(15px);
        background-color: white;
        color: #ccc;
        border: #ccc solid 1px;
        border-right: none;
        cursor: pointer;
        &.invited {
          cursor: default;
          background-color: $primaryColor;
          border-color: $primaryColor;
          color: white;
        }

        &:hover {
          .glyphicon {
            color: $primaryColor;
          }
          &.invited {
            .glyphicon {
              color: white;
            }
          }
        }
      }
    }
  }
}

nx-thumbs-preview {
  .total {
    width: 42px;
    height: 30px;
    line-height: 30px;
    text-align: center;
    color: white;
    background-color: $primaryColor;
    @include border-left-radius(15px);
  }
}

.item-thumbs {
  overflow: hidden;
  margin-bottom: 0;

  li {
    display: block;
    .img-wrapper {
      overflow: hidden;
      height: 44px;
      cursor: pointer;
      @media (max-width: $screen-sm-min) {
        height: 80px;
      }
      margin: 0 -14px;
      img {
        max-width: 250%;
        min-width: 100%;
      }

      &.empty {
        background: url(../images/thumb-empty.jpg) no-repeat;
        background-size: 100% 100%;
        cursor: default;
      }
    }
  }
}